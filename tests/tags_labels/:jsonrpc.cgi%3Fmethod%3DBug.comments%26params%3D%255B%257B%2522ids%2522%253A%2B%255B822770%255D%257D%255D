{"error":null,"id":"http://bugzilla.suse.com/","result":{"bugs":{"822770":{"comments":[{"is_private":false,"count":0,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-01T19:53:20Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"User-Agent:       Mozilla/5.0 (X11; Linux x86_64; rv:21.0) Gecko/20100101 Firefox/21.0\n\nDuring the initial install, an error window popped up during boot install.  It indicated a failure of \"mkinitrd\".  However, \"initrd\" appears to have been correctly built.  I believe it to be a grub2-efi install failure.\n\nI managed to get into the system (booting with the grub menu from a 12.3 system).  I attempted to reinstall grub2-efi again.  There was a similar popup window indicating a grub2-efi install failure.  I tried several times, each with the same result.\n\nThe initial install problem might be related to Bug 812266 comment 6.\n\nAt least some of my attempts were after fixing that problem, disabling secure boot, and making sure that there would be no nvram conflicts.\n\nI'll note that all of the relevant files were installed in \"/boot/efi/EFI/opensuse_alt\".  The NVRAM entry was not installed (probably the cause of the error), and \"/boot/grub2/grub.cfg\" was not built.  I ran \"grub2-mkconfig\" to correct that latter problem.\n\nShortly after the failure (before booting into the system), I booted the install DVD in rescue mode.  I attempted to force-add an NVRAM entry with \"efibootmgr -c\".  There was no error message, but \"efibootmgr -v\" done immediately afterward showed that no entry had been added.  I'm not sure whether that is related.  I was able to force-add an entry by booting the 12.3 rescue live CD, and using \"efibootmgr -c\" from there.\n\nHere are a few lines extracted from \"y2log\":\n\n2013-06-01 17:49:26 <1> nwr8.cs.niu.edu(2407) [pbl] yast-0930.1 Core::UpdateBoot\nloader.1603: rename /etc/default/grub.new -> /etc/default/grub\n2013-06-01 17:49:26 <1> nwr8.cs.niu.edu(2407) [pbl] yast-0930.1 Core::RunCommand\n.1641: run /usr/sbin/shim-install --config-file=/boot/grub2/grub.cfg >/var/log/Y\naST2/y2log_bootloader 2>&1 - ret 256 + output: \n2013-06-01 17:49:26 <3> nwr8.cs.niu.edu(2407) [pbl] yast-0930.1 Core::RunCommand.1642: Error: Command '/usr/sbin/shim-install --config-file=/boot/grub2/grub.cfg >/var/log/YaST2/y2log_bootloader 2>&1' failed with code 256 and output: \n2013-06-01 17:49:26 <1> nwr8.cs.niu.edu(2407) [YCP] bootloader/routines/lib_iface.ycp:281 return value from updateBootloader: false\n\nReproducible: Always\n\nSteps to Reproduce:\n1.\n2.\n3.","creation_time":"2013-06-01T19:53:20Z","id":5448741},{"is_private":false,"count":1,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-01T22:30:20Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"Please attach full save_y2logs from installed system.\n\nDue to package installation order initrd is rebuilt multiple times before grub2 is actually installed, so there are multiple initrd failures during installation. I do not know how to really fix it.","creation_time":"2013-06-01T22:30:20Z","id":5448747},{"is_private":false,"count":2,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":542195,"time":"2013-06-02T06:07:03Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Created attachment 542195\nresult of save_y2logs ('.tgz' format)","creation_time":"2013-06-02T06:07:03Z","id":5448766},{"is_private":false,"count":3,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-02T06:26:48Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"comment 1: \"initrd is rebuilt multiple times\"\n\nThe first error popup that I saw was during the grub2-efi install near the end of installation.  There was also a question as to whether to retry.  I did not retry.  I had guessed (wrongly) that this was the same problem as Bug 820542 and retry wouldn't work.  Fortunately, the install proceeded after the failed boot install, and I merely had to work out an alternative way to boot the system.\n\nIMO, \"mkinitrd\" should never try to reinstall grub.  Whether to reinstall should be a separate decision.  An unnecessary reinstall of grub can cause problems, which a simple \"grub2-mkconfig\" does not cause.","creation_time":"2013-06-02T06:26:48Z","id":5448768},{"is_private":false,"count":4,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-02T10:21:03Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"I performed test installation using x86_64 DVD on MacBook (Pro?) 3.1 using direct EFI boot from CD, selecting minimal text installation. I enabled Secure Boot in bootloader properties. Installation went OK, it installed bootloader including shim and created EFI boot entries (both opensuse and opensuse-secureboot). To my surprise they even worked (judged by message during boot, shim was indeed loaded - you can be sure with Apple :) )\n\nI also tried to set alternate Distributor, but it was ignored. May be I made mistake.\n\nIn your logs the only failure is with shim installation. What makes it quite puzzling, grub2-install itself works.\n\n2013-06-01 17:41:33 <1> pbl-5222.2 Core::RunCommand.1641: run /usr/sbin/grub2-install --target=x86_64-efi >/var/log/YaST2/y2log_bootloader 2>&1 - ret 0 + output: Installation finished. No error reported.\n\n2013-06-01 17:41:33 <1> pbl-5222.2 Core::RunCommand.1641: run /usr/sbin/shim-install --config-file=/boot/grub2/grub.cfg >/var/log/YaST2/y2log_bootloader 2>&1 - ret 256 + output: \n\nCould you test whether shim-install called manually works?","creation_time":"2013-06-02T10:21:03Z","id":5448783},{"is_private":false,"count":5,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":542196,"time":"2013-06-02T12:05:51Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Created attachment 542196\nTranscript of shim installation, etc.\n\nManually installing the shim actually worked.  I have attached a transcript.\n\nI'm not sure why it failed during the install.  I seem to recall that efibootmgr showed entries numbered up through 9 at one stage, so perhaps some limit was hit.\n\nLooking in that script I see a section\n  \"# Delete old entries from the same distributor.\"\nI was mistakenly blaming the firmware for that.  With the failure of my attempt to change the distributor, that deleted the entry for my working 12.3 install on the same computer.","creation_time":"2013-06-02T12:05:51Z","id":5448794},{"is_private":false,"count":6,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-02T12:26:13Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"I take that back.\n\nThe shim-install did not work.  It silently failed.\n\nIf it had worked, there should have been an entry there for \"opensuse_alt-secureboot\" and there isn't.  The new entry should have been the first in the boot order, but entry 4 remained first in the boot order.\n\nI reran the shim-install with:\n bash -x /usr/sbin/shim-install --config-file=/boot/grub2/grub.cfg\nso that you can see what it is doing.\n\nThis echoes my earlier experience.  Manually adding an NVRAM entry with \"efibootmgr -c\" failed when I ran from a rescue-boot of the 13.1M1 install DVD, but later succeeded from the 12.3 live rescue system.  It looks to me as if \"efibootmgr\" is broken.  I don't know if that is a code bug or a kernel bug.  I have Tumbleweed on my 12.3 install for that box, so I can manually run \"efibootmgr -c\" with either 3.7.10-1.11 kernel or 3.9.3-10 kernel if that would\nbe useful.","creation_time":"2013-06-02T12:26:13Z","id":5448799},{"is_private":false,"count":7,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":542197,"time":"2013-06-02T12:27:34Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Created attachment 542197\ntypescript of shim install run with \"bash -x\"","creation_time":"2013-06-02T12:27:34Z","id":5448800},{"is_private":false,"count":8,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-02T14:33:16Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"I am rethinking this.\n\nOr, if you like, I have put 2 and 2 together, and come up with 4 (or is it 5).\n\nIf you look at bug 820542, you will see a similar problem.  Namely, grub.cfg was not properly updated because of an error that occurred while reinstalling grub.\n\nThat happened at least twice.  However, it was fine with the most recent Tumbleweed kernel update.\n\nMy current guess is that there was a kernel bug in communicating with the UEFI firmware that caused the failure with 13.1 and with some Tumbleweed kernel updates.  And the bug is fixed in the latest Tumbleweed kernel.\n\nRegrettably, I don't have those old kernels to retest, and I think they are gone from the Tumbleweed repo.  I don't have them, because my 13.1 install reused the same partition.\n\nMy suggestion - don't spent too much time looking at this.  Perhaps a newer kernel version in 13.1M2 will already fix it.","creation_time":"2013-06-02T14:33:16Z","id":5448821},{"is_private":false,"count":9,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-02T15:19:29Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"I did a google search for:\n\nefibootmgr kernel 3.9\n\nand that came up with many hits.  Lots of folk seem to be running into this problem in a variety of distros.","creation_time":"2013-06-02T15:19:29Z","id":5448824},{"is_private":false,"count":10,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-02T23:13:41Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"(In reply to comment #6)\n> I take that back.\n> \n> The shim-install did not work.  It silently failed.\n> \n> If it had worked, there should have been an entry there for\n> \"opensuse_alt-secureboot\" and there isn't.\n\nWhat is shim-install exit code in this case (echo $? immediately after running shim-install)?\n\nCould you manually run\n\nefibootmgr -c -d /dev/sda -p 1 -w -L opensuse_alt-secureboot -l '\\EFI\\opensuse_alt\\shim.efi'\necho $?\n\nDoes it fail to add menu entry as well? If it fails - could you run\n\nstrace -f -o /tmp/efibootmgr.log efibootmgr -c -d /dev/sda -p 1 -w -L opensuse_alt-secureboot -l '\\EFI\\opensuse_alt\\shim.efi'\n\nand attach here /tmp/efibootmgr.log?\n\nI wonder if your firmware places restriction on modifying some of environment variables in secure boot mode ... you are running with secure boot enabled, right?","creation_time":"2013-06-02T23:13:41Z","id":5448902},{"is_private":false,"count":11,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":542219,"time":"2013-06-02T23:52:43Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Created attachment 542219\nTranscript of requested commands","creation_time":"2013-06-02T23:52:43Z","id":5448942},{"is_private":false,"count":12,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":542221,"time":"2013-06-02T23:56:32Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Created attachment 542221\nrequested strace output\n\nAs expected, the command fails.\n\nI then reran the same command on the same box, while running 12.3.  And that worked just fine.  If you want a transcript of that, I can attach.\n\nMy install of 13.1M1 was done with secure-boot enabled.  However, I disabled after that, and I think all of the transcript files were done with secure-boot disabled.  Likewise, the strace was with secure-boot disabled.","creation_time":"2013-06-02T23:56:32Z","id":5448944},{"is_private":false,"count":13,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-03T00:26:23Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"(In reply to comment #12)\n> Created an attachment (id=542221) [details]\n> requested strace output\n> \n\nopen(\"/sys/firmware/efi/vars/new_var\", O_WRONLY) = 3\nwrite(3, \"B\\0o\\0o\\0t\\0000\\0000\\0000\\0003\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 2084) = -1 ENOSPC (No space left on device)\n\n\n> As expected, the command fails.\n> \n> I then reran the same command on the same box, while running 12.3.  And that\n> worked just fine.  If you want a transcript of that, I can attach.\n> \n\nIf the same command works on the same system under different kernel version it becomes kernel issue and has to be reassigned to it.\n\nOTOH in installation logs we have seen that grub2-install apparently worked and immediately following shim-install failed. Both use the same efibootmgr with the only difference that grub2-install should point to \\EFI\\opensuse_alt\\grubx64.efi. Does it fail too? I.e. \n\nefibootmgr -c -d /dev/sda -p 1 -w -L\nopensuse_alt-secureboot -l '\\EFI\\opensuse_alt\\shim.efi'\n\nAlso you somewhere else suggested that your firmware allows only one boot entry per hard disk. Could you remove existing boot entries on this ESP and retry? I'm not sure how many do you have, but at least Windows and openSUSE ones point to different partitions.","creation_time":"2013-06-03T00:26:23Z","id":5448991},{"is_private":false,"count":14,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-03T00:27:34Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"(In reply to comment #13)\n> Does it fail too? I.e. \n> \n> efibootmgr -c -d /dev/sda -p 1 -w -L\n> opensuse_alt-secureboot -l '\\EFI\\opensuse_alt\\shim.efi'\n\n\\EFI\\opensuse_alt\\grubx64.efi' of course","creation_time":"2013-06-03T00:27:34Z","id":5448995},{"is_private":false,"count":15,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-03T01:08:09Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"Related to https://bugzilla.novell.com/show_bug.cgi?id=815170 ?","creation_time":"2013-06-03T01:08:09Z","id":5449059},{"is_private":false,"count":16,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-03T01:11:36Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"Also https://bugs.archlinux.org/task/34641#comment110020 has interesting observations:\n\n--><--\nWhen I boot using EFI Stub, Efibootmgr silently fails, but when I boot using GRUB 2, it's work. Boots parameters are sames...\n--><--\nI just tried this myself and same thing happens with me... EFISTUB not working, GRUB2 works\n--><--\n\nIn our case it translates to using linuxefi (which calls kernel EFI stub even if secure boot is disabled) vs. linux loader in grub.cfg.","creation_time":"2013-06-03T01:11:36Z","id":5449063},{"is_private":false,"count":17,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-03T02:18:07Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"OK, so it looks like this is caused by additional protection against NVRAM overflow added to Linux kernel. See extensive discussion also here: https://bugzilla.redhat.com/show_bug.cgi?id=947142\n\nCould you check\n\n- you do not have dmesg dumps stored there. See http://mjg59.dreamwidth.org/23554.html and https://bugzilla.redhat.com/show_bug.cgi?id=947142#c27. If yes, you can try to remove them. You will need multiple reboots as far as I understand.\n\n- before you do it, could you please test updated efibootmgr that should better report OOM conditions:\n\nzypper add obs://home:/arvidjaar:branches:Base:System/openSUSE_Factory efibootmgr\nzypper refresh efibootmgr\nzypper update -r efibootmgr efibootmgr\n\n(do not use other packages there, I'm not sure in which state they are)\n\nTest the same efibootmgr commands as before - it should now report error it got from kernel/EFI.","creation_time":"2013-06-03T02:18:07Z","id":5449156},{"is_private":false,"count":18,"creator":"jsrain@suse.com","attachment_id":null,"time":"2013-06-03T02:34:34Z","bug_id":822770,"author":"jsrain@suse.com","text":"Andrey, since you started handling this bug, I'm reassigning it to you for now...","creation_time":"2013-06-03T02:34:34Z","id":5449179},{"is_private":false,"count":19,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-03T07:28:53Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"*** Reply to comment 14\n\nThe entry for grubx64.efi works\n -------\n# efibootmgr -c -d /dev/sda -p 1 -w -L opensuse_alt-secureboot -l '\\EFI\\opensuse_alt\\grubx64.efi'\nBootCurrent: 0004\nTimeout: 0 seconds\nBootOrder: 0003,0004,0000,0001,0002\nBoot0000* Windows Boot Manager\nBoot0001* P0: WDC WD10EZEX-75ZF5A0      \nBoot0002* P1: HL-DT-ST DVD+/-RW GHA2N   \nBoot0004* opensuse-secureboot\nBoot0003* opensuse_alt-secureboot\n# echo $?\n0\n -------\n\nWell, that's confusing, because the name \"opensuse_alt-secureboot\" was still used in the suggested command.  But \"efibootmgr -v\" shows that the entry now refers to grubx64.efi\n\n*** Reply to comment 17\n\n# mount -t pstore /sys/fs/pstore /sys/fs/pstore\nmount: /sys/fs/pstore is already mounted or /sys/fs/pstore busy\n\n# mount|grep pstore\npstore on /sys/fs/pstore type pstore (rw,nosuid,nodev,noexec,relatime)\n\nls -la /sys/fs/pstore\ntotal 0\ndrwxr-xr-x 2 root root 0 Jun  3 07:41 .\ndrwxr-xr-x 7 root root 0 Jun  3 07:41 ..\n\nIt looks as if pstore is already mounted, and empty.\n\nI also looked in \"/sys/firmware/efi/efivars\".  There's nothing with \"dump\" in the name.\n\nI assume you still want me to try the updated efibootmgr.  I post another comment when I get to that.","creation_time":"2013-06-03T07:28:53Z","id":5449669},{"is_private":false,"count":20,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-03T07:41:22Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"I missed responding to comment 15:\n\n>Related to https://bugzilla.novell.com/show_bug.cgi?id=815170 ?\n\nYes, it is very likely to be related.\n\nI notice in 815170#c12 that shim.efi will be copied to /EFI/Boot/bootx64.efi\n\nI am not sure that works.  After my failed install of 13.1M1, the BIOS\nboot menu included an item to boot my second hard drive, where I had\nmanually done that copy.  And that did not work.  When shim.efi is copied there, how does it know where the rest of the files are?  Or should the entire directory be copied?\n\nWhile I am off-topic, grub.cfg somewhere uses \"set root='hd1,gpt4' to reference the second drive.  My tests show that should be 'hd2,gpt4'.  Apparently the BIOS device numbering puts the DVD before the second hard drive.  (Not a big deal, since the uuid check overrides this).","creation_time":"2013-06-03T07:41:22Z","id":5449690},{"is_private":false,"count":21,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-03T07:54:35Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Reply to comment 17\n\n>- before you do it, could you please test updated efibootmgr\n\nI changed the \"add\" to \"ar\" (zypper did not like \"add\")\n\nHowever, when I try to refresh, it says that the URI is invalid.  Can you recheck.","creation_time":"2013-06-03T07:54:35Z","id":5449716},{"is_private":false,"count":22,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-03T10:25:12Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"I have not yet responded to this in comment 13\n ---\nAlso you somewhere else suggested that your firmware allows only one boot entry\nper hard disk. Could you remove existing boot entries on this ESP and retry?\nI'm not sure how many do you have, but at least Windows and openSUSE ones point\nto different partitions.\n ---\n\nAt the time of the install, there was only one entry for that ESP (Windows).\n\nThe firmware does not block new entries, as far as I can tell.  It just cleans them out on the next boot.\n\nThis blog post seems relevant to the problem:\n\n  http://mjg59.dreamwidth.org/25091.html","creation_time":"2013-06-03T10:25:12Z","id":5450015},{"is_private":false,"count":23,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-03T12:16:52Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"(In reply to comment #21)\n> However, when I try to refresh, it says that the URI is invalid.  Can you\n> recheck.\n\nSorry, my fault.\n\nzypper ar obs://home:arvidjaar:branches:Base:System/openSUSE_Factory efibootmgr","creation_time":"2013-06-03T12:16:52Z","id":5450185},{"is_private":false,"count":24,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-03T12:31:30Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"(In reply to comment #20)\n> I am not sure that works.  After my failed install of 13.1M1, the BIOS\n> boot menu included an item to boot my second hard drive, where I had\n> manually done that copy.  And that did not work.  When shim.efi is copied\n> there, how does it know where the rest of the files are?  Or should the entire\n> directory be copied?\n> \n\nYes. EFI provides interface to find out from where program was loaded. So all files related to shim must be in the same location.","creation_time":"2013-06-03T12:31:30Z","id":5450194},{"is_private":false,"count":25,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":542383,"time":"2013-06-03T13:50:24Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Created attachment 542383\nTranscript with modified \"efibootmgr\"\n\nThis time the command worked.  So I guess you won't get the extra info.\n\nI'm getting the impression that the problem is fragmentation in the NVRAM space causing incorrect estimates of space allowed (See that link I provided in a recent comment).\n\nI renamed my other install -- the one using /dev/sdb1 for ESP -- so that it is now called \"tumbleweed-secureboot\" instead of \"opensuse-secureboot\".  That a preemptive action to prevent name conflicts when a future install fails to honor the Distributor definition.  The effect of that, and other changes, may have reorganize NVRAM, reducing the fragmentation.\n\nYou may also note that, after the install, I did:\n efibootmgr -o 3,0\nThat's because those (tumbleweed and Windows) are the two entries I want to keep.  (If I don't keep Windows, then Windows will reinstall it and mess up my boot order).\n\nI followed that with\n efibootmgr -n 4\nwhich makes entry 4 (the new opensuse_alt-secureboot) the next boot target.  The effect on my BIOS is that it will not delete entry 4 (at least for now), since it will next boot from that.  Otherwise it would have deleted it on the next boot.\n\nThose are there mostly to illustrate how my BIOS behaves in limiting to one boot entry per ESP.  I guess this is better than what Will Honea is describing for HP, with it overfilling NVRAM.","creation_time":"2013-06-03T13:50:24Z","id":5450269},{"is_private":false,"count":26,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-03T14:02:55Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"An addendum.\n\nMy BIOS misbehaved.  On reboot it delete boot entry 4, and booted to entry 3, ignoring that \"-n\".  Okay, I remember.  I have updated (reflashed) the BIOS since I had last tested that.  I guess that behavior has changed.\n\nAnd thanks for responding about '/EFI/Boot'.  I have now copied everything there, then renamed shim.efi to the default name.  I can't test it, though.  My BIOS normally doesn't show that boot entry, unless there is nothing else bootable on that disk.","creation_time":"2013-06-03T14:02:55Z","id":5450283},{"is_private":false,"count":27,"creator":"nwr10cst-oslnx@yahoo.com","attachment_id":null,"time":"2013-06-16T11:30:17Z","bug_id":822770,"author":"nwr10cst-oslnx@yahoo.com","text":"Update for 13.1M2.  The problem seems solved.  The install of grub2-efi was fine.\n\nThis is most likely due to kernel changes in 3.10.0-rc4.\n\nI'll continue to monitor this with future milestone releases.","creation_time":"2013-06-16T11:30:17Z","id":5470795},{"is_private":false,"count":28,"creator":"mergan14846@gmail.com","attachment_id":null,"time":"2013-06-20T08:29:19Z","bug_id":822770,"author":"mergan14846@gmail.com","text":"i got this error with secure boot\n\nKernel image:   /boot/vmlinuz-3.10.0-rc4-1-desktop\nInitrd image:   /boot/initrd-3.10.0-rc4-1-desktop\nKMS drivers:     i915\nRoot device:\t/dev/disk/by-id/scsi-TOSHIBA_External_USB_3.0_2011072510801-0:0-part1 (/dev/sdb1) (mounted on / as ext4)\nKernel Modules:\tthermal_sys thermal processor fan scsi_dh scsi_dh_hp_sw scsi_dh_rdac scsi_dh_emc scsi_dh_alua video button i2c-algo-bit drm drm_kms_helper i915 usb-storage xhci-hcd hid-logitech-dj hid-holtek-kbd hid-lenovo-tpkbd hid-ortek hid-roccat hid-roccat-common hid-roccat-arvo hid-roccat-isku hid-samsung libcrc32c xor zlib_deflate raid6_pq btrfs crc32c-intel \nFeatures:       acpi kms plymouth block usb btrfs resume.userspace resume.kernel\numount: /sys: umount failed: No such file or directory\nPerl-Bootloader: 2013-06-20 10:21:40 <3> pbl-6646.2 FileIO::ReadFile.85: Error: Failed to open /proc/misc: No such file or directory\nCan't use an undefined value as an ARRAY reference at /usr/lib/perl5/vendor_perl/5.16.2/Bootloader/Tools.pm line 431.\nThere was an error generating the initrd (2)","creation_time":"2013-06-20T08:29:19Z","id":5478963},{"is_private":false,"count":29,"creator":"arvidjaar@gmail.com","attachment_id":null,"time":"2013-06-20T10:07:49Z","bug_id":822770,"author":"arvidjaar@gmail.com","text":"(In reply to comment #28)\n> i got this error with secure boot\n> \n> umount: /sys: umount failed: No such file or directory\n> Perl-Bootloader: 2013-06-20 10:21:40 <3> pbl-6646.2 FileIO::ReadFile.85: Error:\n> Failed to open /proc/misc: No such file or directory\n> Can't use an undefined value as an ARRAY reference at\n> /usr/lib/perl5/vendor_perl/5.16.2/Bootloader/Tools.pm line 431.\n> There was an error generating the initrd (2)\n\nThat's entirely different problem. Please open separate bug report if it persists.","creation_time":"2013-06-20T10:07:49Z","id":5479173},{"is_private":false,"count":30,"creator":"jreidinger@suse.com","attachment_id":null,"time":"2016-10-06T13:55:11Z","bug_id":822770,"author":"jreidinger@suse.com","text":"looks fixed, so lets close.","creation_time":"2016-10-06T13:55:11Z","id":6977442},{"is_private":false,"count":31,"creator":"jreidinger@suse.com","attachment_id":null,"time":"2016-10-06T13:55:24Z","bug_id":822770,"author":"jreidinger@suse.com","text":"*** Bug 820542 has been marked as a duplicate of this bug. ***","creation_time":"2016-10-06T13:55:24Z","id":6977445}]}},"comments":{}}}